(this["webpackJsonpReact-E-Commerce"]=this["webpackJsonpReact-E-Commerce"]||[]).push([[0],{13:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(3),s=c(7),o=c(0);function i(){var e=Object(n.useContext)(j),t=e.products,c=e.setProducts,r=e.cart,i=e.setCart;Object(n.useEffect)((function(){fetch("http://localhost:3000/products").then((function(e){return e.json()})).then((function(e){e.success?c(e.data):console.log(e.message)}))}),[]);return Object(o.jsx)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:t&&t.map((function(e){return Object(o.jsxs)("div",{style:{width:"250px"},children:[Object(o.jsx)("h2",{children:e.productName}),Object(o.jsxs)("h3",{children:["price: $",e.productPrice]}),Object(o.jsx)("img",{src:e.productImage,alt:"",width:"200"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){i([].concat(Object(s.a)(r),[e]))}(e)},children:"add to cart"}),Object(o.jsx)("button",{children:"get more details"})]})]},e._id)}))})}function d(){var e=Object(n.useContext)(j),t=e.cart,c=e.setCart;return Object(o.jsxs)("div",{children:[t&&t.map((function(e){return Object(o.jsxs)("div",{style:{width:"250px"},children:[Object(o.jsx)("h2",{children:e.productName}),Object(o.jsxs)("h3",{children:["price: $",e.productPrice]}),Object(o.jsx)("img",{src:e.productImage,alt:"",width:"200"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return function(e){var n=t.filter((function(t){return t._id!==e}));c(n)}(e._id)},children:"delete item"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"quantity: "}),Object(o.jsx)("button",{children:"-"}),Object(o.jsx)("button",{children:"+"})," "]})]})]},e._id)})),Object(o.jsx)("button",{onClick:function(){var e={userName:"Naqvi",products:t};fetch("http://localhost:3000/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?(c([]),console.log("order placed successfully")):console.log(e.message)}))},children:"checkout"})]})}function u(){var e=Object(n.useContext)(j),t=e.orders,c=e.setOrders,r=e.cart;Object(n.useEffect)((function(){fetch("http://localhost:3000/orders").then((function(e){return e.json()})).then((function(e){e.success?c(e.data):console.log(e.message)}))}),[r]);return Object(o.jsx)("div",{children:t.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:e.userName}),Object(o.jsxs)("div",{children:[" ",e.products.map((function(e){return Object(o.jsx)("p",{children:e.productName})}))]}),Object(o.jsx)("button",{onClick:function(){return n=e._id,void fetch("http://localhost:3000/orders/".concat(n),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){if(e.success){var r=t.filter((function(e){return e._id!==n}));c(r)}else console.log(e.message)}));var n},children:" delete order"})]})}))})}var j=Object(n.createContext)(null);var a=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),l=Object(r.a)(a,2),h=l[0],b=l[1],O=Object(n.useState)([]),f=Object(r.a)(O,2),p=f[0],x=f[1],m=Object(n.useState)([]),v=Object(r.a)(m,2),C=v[0],g=v[1];return Object(o.jsx)(j.Provider,{value:{products:h,setProducts:b,cart:p,setCart:x,orders:C,setOrders:g},children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("header",{style:{display:"flex",justifyContent:"space-between"},children:[Object(o.jsx)("h1",{children:"Products Shop"}),Object(o.jsxs)("h2",{onClick:function(){return s(!c)},children:["Cart: ",p.length]})]}),c?Object(o.jsx)(d,{}):Object(o.jsx)(i,{}),Object(o.jsx)(u,{})]})})},l=c(6);c.n(l).a.render(Object(o.jsx)(a,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.187237a1.chunk.js.map